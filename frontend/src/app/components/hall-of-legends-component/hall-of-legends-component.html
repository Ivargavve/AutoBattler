<div class="legends-root">
  <h1 class="legends-title">Hall of Legends</h1>
  <div class="legends-subtitle">
    The most legendary battlers in the history of AutoBattler.<br>
    <span class="meta-text">Real characters, real achievements, real legends*</span>
  </div>

  <!-- Loading State -->
  <app-loading-spinner *ngIf="loading"></app-loading-spinner>

  <!-- Error State -->
  <div *ngIf="error" class="error-container">
    <p class="error-message">{{ error }}</p>
    <button class="retry-button" (click)="loadTopCharacters()">Try Again</button>
  </div>

  <!-- Main Content -->
  <div *ngIf="topCharactersData && !loading" class="legends-content">
    
    <!-- King of Autobattler - Special Highlight -->
    <div class="legends-section king-section">
      <h2 class="section-title king-title">
        <span class="crown-icon">👑</span>
        King of Autobattler
      </h2>
      <div class="king-card" *ngIf="topCharactersData.kingOfAutobattler.length > 0">
        <div class="king-info">
          <img [src]="topCharactersData.kingOfAutobattler[0].profileIconUrl" 
               [alt]="topCharactersData.kingOfAutobattler[0].characterName"
               class="king-avatar"
               (error)="onImageError($event)">
          <div class="king-details">
            <h3 class="king-name">{{ topCharactersData.kingOfAutobattler[0].characterName }}</h3>
            <p class="king-user">by {{ topCharactersData.kingOfAutobattler[0].userName }}</p>
            <p class="king-stats">{{ getStatDescription(topCharactersData.kingOfAutobattler[0]) }}</p>
            <span class="king-class">{{ topCharactersData.kingOfAutobattler[0].class }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Top Categories Grid -->
    <div class="categories-grid">
      
      <!-- Attack Masters -->
      <div class="category-card" *ngIf="topCharactersData.attackMasters.length > 0">
        <h3 class="category-title">
          <span class="category-icon">⚔️</span>
          Attack Masters
        </h3>
        <ul class="character-list">
          <li *ngFor="let character of topCharactersData.attackMasters; let i = index" 
              class="character-item">
            <div class="character-rank">{{ i + 1 }}</div>
            <img [src]="character.profileIconUrl" 
                 [alt]="character.characterName"
                 class="character-avatar"
                 (error)="onImageError($event)">
            <div class="character-info">
              <span class="character-name">{{ character.characterName }}</span>
              <span class="character-user">{{ character.userName }}</span>
              <span class="character-stats">{{ character.statValue }} Attack</span>
            </div>
          </li>
        </ul>
      </div>

      <!-- Tanky Bankies -->
      <div class="category-card" *ngIf="topCharactersData.tankyBankies.length > 0">
        <h3 class="category-title">
          <span class="category-icon">🛡️</span>
          Tanky Bankies
        </h3>
        <ul class="character-list">
          <li *ngFor="let character of topCharactersData.tankyBankies; let i = index" 
              class="character-item">
            <div class="character-rank">{{ i + 1 }}</div>
            <img [src]="character.profileIconUrl" 
                 [alt]="character.characterName"
                 class="character-avatar"
                 (error)="onImageError($event)">
            <div class="character-info">
              <span class="character-name">{{ character.characterName }}</span>
              <span class="character-user">{{ character.userName }}</span>
              <span class="character-stats">{{ character.statValue }} HP</span>
            </div>
          </li>
        </ul>
      </div>

      <!-- Defense Champions -->
      <div class="category-card" *ngIf="topCharactersData.defenseChampions.length > 0">
        <h3 class="category-title">
          <span class="category-icon">🏰</span>
          Defense Champions
        </h3>
        <ul class="character-list">
          <li *ngFor="let character of topCharactersData.defenseChampions; let i = index" 
              class="character-item">
            <div class="character-rank">{{ i + 1 }}</div>
            <img [src]="character.profileIconUrl" 
                 [alt]="character.characterName"
                 class="character-avatar"
                 (error)="onImageError($event)">
            <div class="character-info">
              <span class="character-name">{{ character.characterName }}</span>
              <span class="character-user">{{ character.userName }}</span>
              <span class="character-stats">{{ character.statValue }} Defense</span>
            </div>
          </li>
        </ul>
      </div>

      <!-- Speed Demons -->
      <div class="category-card" *ngIf="topCharactersData.speedDemons.length > 0">
        <h3 class="category-title">
          <span class="category-icon">⚡</span>
          Speed Demons
        </h3>
        <ul class="character-list">
          <li *ngFor="let character of topCharactersData.speedDemons; let i = index" 
              class="character-item">
            <div class="character-rank">{{ i + 1 }}</div>
            <img [src]="character.profileIconUrl" 
                 [alt]="character.characterName"
                 class="character-avatar"
                 (error)="onImageError($event)">
            <div class="character-info">
              <span class="character-name">{{ character.characterName }}</span>
              <span class="character-user">{{ character.userName }}</span>
              <span class="character-stats">{{ character.statValue }} Agility</span>
            </div>
          </li>
        </ul>
      </div>

      <!-- Magic Wielders -->
      <div class="category-card" *ngIf="topCharactersData.magicWielders.length > 0">
        <h3 class="category-title">
          <span class="category-icon">🔮</span>
          Magic Wielders
        </h3>
        <ul class="character-list">
          <li *ngFor="let character of topCharactersData.magicWielders; let i = index" 
              class="character-item">
            <div class="character-rank">{{ i + 1 }}</div>
            <img [src]="character.profileIconUrl" 
                 [alt]="character.characterName"
                 class="character-avatar"
                 (error)="onImageError($event)">
            <div class="character-info">
              <span class="character-name">{{ character.characterName }}</span>
              <span class="character-user">{{ character.userName }}</span>
              <span class="character-stats">{{ character.statValue }} Magic</span>
            </div>
          </li>
        </ul>
      </div>

    </div>

    <!-- Legendary Moments -->
    <div class="legends-section moments-section">
      <h2 class="section-title">Legendary Moments</h2>
      <ul class="moments-list">
        <li>
          <span class="moment-date meta-text">Today</span> – Hall of Legends now features real characters and their actual achievements!
        </li>
        <li>
          <span class="moment-date meta-text">Live</span> – Watch as new legends rise through the ranks with every battle fought.
        </li>
        <li>
          <span class="moment-date meta-text">Always</span> – Your character's stats determine their place in history. Every stat point matters!
        </li>
      </ul>
    </div>

  </div>

  <div class="legends-footer meta-text">
    Want to see your name here? Become a legend through battle!
  </div>
</div>